var user_private_token="",timeWatchFree=0,totalTimeWatchFree=0,user_info={},scrolling=!1,lastScroll=0,country="";function sleep(e){return new Promise((function(t){setTimeout(t,e)}))}function countDownSale(e){var t=e;if(t>=3600){var o=Math.floor(t/3600);o<10&&(o="0"+o),$(".hour_sale").html(o),t%=3600}if(t>=60){var n=Math.floor(t/60);n<10&&(n="0"+n),$(".minute_sale").html(n),t%=60}t>=0&&(t<10&&(t="0"+t),$(".second_sale").html(t)),e>0?($(".count_down_24h").css("display","block"),setTimeout((function(){countDownSale(e-1)}),1e3)):$(".count_down_24h").css("display","none")}function setCookie(e,t,o){const n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);let a="expires="+n.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"}function getCookie(e){let t=e+"=",o=decodeURIComponent(document.cookie).split(";");for(let e=0;e<o.length;e++){let n=o[e];for(;" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}function checkAccount(e,t=""){try{let o=getCookie("referrer"),n=getCookie("first_link");$.ajax({url:"/me"+t,type:"POST",dataType:"json",data:{referrer_link:o,first_link:n},success:function(t){try{try{if(t.timeWatchFree&&(timeWatchFree=t.timeWatchFree),t.country&&(country=t.country),t.totalTimeWatchFree&&(totalTimeWatchFree=Math.floor(t.totalTimeWatchFree/60)),t&&t.data){user_info=t.data,t.data.time_left_sale>0&&"true"!==user_info.is_vip&&($(".popup-countdown-24h").css("display","block"),countDownSale(t.data.time_left_sale));var o=t.data.is_vip&&"true"==t.data.is_vip?"vip_":"";"true"==t.data.is_vip&&$(".container-request-verify")&&!location.href.match("/profile/")&&$(".container-request-verify").fadeIn(300),(user_private_token=o+t.data.private_token)?($(".sign-in-up").addClass("hide"),$(".account").removeClass("hide"),$(".account a").attr("href","/profile/"+user_private_token.replace("vip_","")),$(".account a").html(t.data.name),"vip_"==user_private_token.substr(0,4)&&($(".vip").removeClass("hide"),1==t.data.confirmed||location.href.match("/profile/")||($(".alert-verify-email-container").css("display","flex"),$(".btn-verify-now").attr("href","/profile/"+t.data.private_token))),"false"==t.data.new_package&&$(".lifetime-banner").removeClass("hide")):user_private_token=""}null!=e&&e()}catch(t){null!=e&&e()}}catch(t){console.log("e1",t),null!=e&&e()}}})}catch(t){console.log("e2",t),null!=e&&e()}}function createPlayer(e,t=""){$("#loadingPlayer").css("display","flex");try{playerInstance.remove()}catch(e){}if(playerInstance=jwplayer("player-html5"),e)if(e.endsWith(".mp4")||e.endsWith(".m3u8")){const t=new URL(e).host;let o=[{file:e,label:"Bingsport"}];e.match("/low/")&&(o=[{default:!0,file:e.replace("/low",""),label:"Quick"},{file:e,label:"Low"}]);let n=!0;playerInstance.setup({autostart:!0,mute:!1,width:"100%",stretching:"fill",aspectratio:"16:9",sources:o}),playerInstance.on("error",(function(e){fetch("https://tracking.bingsport.com?cdn="+encodeURI(t)+"&action=error"),setTimeout((function(){playerInstance.play()}),2e3)})),playerInstance.on("pause",(function(e){setTimeout((function(){playerInstance.play()}),2e3)})),playerInstance.on("buffer",(function(e){console.log("buffer",e),n||fetch("https://tracking.bingsport.com?cdn="+encodeURI(t)+"&action=buffer")})),playerInstance.on("firstFrame",(function(e){console.log("firstFrame",e),n=!1,fetch("https://tracking.bingsport.com?cdn="+encodeURI(t)+"&action=first_frame")}))}else(e.match("1proxy.html")||e.match("m3u8="))&&(e=(e=(e=(e=(e=e+"&ver="+verIframe).replace("https://bingsport.com/1proxy.html","https://live-streamfootball.com/index.php")).replace("https://bingsport.com/1proxy.php","https://live-streamfootball.com/index.php"))+"&parent="+site_name)+"&is_vip="+("vip_"==t.substr(0,4)?"true":"false")),console.log("_link",e),$("#player-html5").html(`<div class="iframe-wrapper"><iframe src="${e}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" width="100%" height="100%" frameborder="0" ${"vip_"==t.substr(0,4)?"allowfullscreen":""} class="iframe-player"></iframe></div>`)}function modifyDate(e){let t="";e.map((function(e,o){let n=$(o).data("timestamp");if(n){let e=moment.unix(n).format("dddd, MMMM DD");e!=t&&(t=e),$(o).html(moment.unix(n).format("HH:mm"))}}))}function modifyDateMatch(e){let t="";e.map((function(e,o){let n=$(o).data("match-timestamp");if(n){let e=moment.unix(n).format("dddd, DD/MM");e!=t&&($('<div style="font-weight: bold; margin: 20px 0"> '+e+" </div>").insertBefore($(o)),t=e),$(o).find(".txt_time").html(moment.unix(n).format("HH:mm"))}}))}function resizeIframe(e){e.style.height=e.contentWindow.document.documentElement.scrollHeight+20+"px",$(".loading-iframe").remove()}$(document).ready((function(){let first_link=getCookie("first_link");first_link||(setCookie("first_link",location.href,365),first_link=location.href);let referrer=getCookie("referrer");if(referrer||(setCookie("referrer",document.referrer,365),referrer=document.referrer),$(".show-menu-container img").on("click",(function(){$("html").css("overflow","hidden"),$(".popup-menu").addClass("show")})),$(".close-container img").on("click",(function(){$(".popup-menu").removeClass("show"),$("html").css("overflow","auto")})),$("#signin").on("submit",(async function(e){e.preventDefault();let t=$("#signin [name=email]").val(),o=$("#signin [name=password]").val();$("#signin button").attr("disable",!0),$("#signin button").html("Loading...");let n=await $.ajax({url:"/auth/signin",method:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{email:t,password:o}});200==n.status?location.href.match("package-login")?location.href="/pricing":location.href.match("show-login")?location.href="/":location.reload():alert(n.msg),$("#signin button").attr("disable",!1),$("#signin button").html("Sign In")})),$("#signup").on("submit",(async function(e){e.preventDefault();let name=$("#signup [name=name]").val(),email=$("#signup [name=email]").val(),password=$("#signup [name=password]").val(),confirmPassword=$('#signup [name="re-password"]').val();if(password!=confirmPassword)return void alert("Password not match!");$("#signup button").attr("disable",!0),$("#signup button").html("Loading...");let data=await $.ajax({url:"/auth/signup",method:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{name:name,email:email,password:password},error:function(xhr,status,error){var err=eval("("+xhr.responseText+")");console.log("err",err)}});200==data.status?location.reload():alert(data.msg),$("#signup button").attr("disable",!1),$("#signup button").html("Sign Up")})),$("#forgot-password").on("submit",(async function(e){e.preventDefault();let t=$("#forgot-password [name=email]").val();if(!t)return void alert("Please enter your email!");$("#forgot-password button").attr("disable",!0),$("#forgot-password button").html("Loading...");let o=await $.ajax({url:"/auth/forgot-password",method:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{email:t},error:function(e,t,o){$("#forgot-password button").attr("disable",!1),$("#forgot-password button").html("Submit")}});200==o.status?($("#forgot-password [name=email]").val(""),alert("Request successfully. Please check your email")):alert(o.msg),$("#forgot-password button").attr("disable",!1),$("#forgot-password button").html("Submit")})),$(".btn-show-register").on("click",(function(){$(".popup-login .login-container").css("display","none"),$(".register-container").css("display","block")})),$(".btn-show-login").on("click",(function(){$(".popup-login .login-container").css("display","block"),$(".register-container").css("display","none"),$(".forgot-password-container").css("display","none")})),$(".forgot-password").on("click",(function(){$(".forgot-password-container").css("display","block"),$(".popup-login .login-container").css("display","none")})),$("img.lazy").Lazy(),$("[data-timestamp][data-format]").map((function(e,t){var o=$(t).data("timestamp"),n=$(t).data("format");$(t).html(moment.unix(o).format(n))})),$(document).on("click",".about_247sport_content_container .btn-show-hide, .about_league_content_container .btn-show-hide, .about_team_content_container .btn-show-hide",(function(){$(this).parent().toggleClass("is-show")})),$(window).on("scroll",(function(){$("html")[0].scrollTop>200?$(".top-of-site-link").fadeIn(300):$(".top-of-site-link").fadeOut(300)})),$(".top-of-site-link").on("click",(function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},800)})),location.href.match("/?(.*?)-login")&&$(".btn-login").click(),location.hash&&location.hash.match("#msg=")){let e=location.hash.replace("#msg=","");e&&(window.history.pushState({},null,location.pathname),alert(decodeURIComponent(e)))}$(document).on("click","[data-scroll]",(function(){let e=$(this).data("scroll");$("#"+e).length>0&&($(".item-content-tab").addClass("hide"),$(".item-content-tab#"+e).removeClass("hide"))}))}));const showEL=e=>{const t=document.getElementById(e);t&&(t.classList.remove("hide"),t.classList.add("show"))},hideEl=e=>{const t=document.getElementById(e);t&&(t.classList.remove("show"),t.classList.add("hide"))},openMenu=()=>{showEL("menu-popup"),$("html").css("overflow","hidden")},closeMenu=()=>{hideEl("menu-popup"),$("html").css("overflow","scroll")},expandCalendar=()=>{hideEl("calendar-minimized"),showEL("calendar-expanded")},minimizeCalendar=()=>{hideEl("calendar-expanded"),showEL("calendar-minimized")},openReportModal=()=>showEL("report-modal"),closeReportModal=()=>hideEl("report-modal"),openPwModal=()=>showEL("change-password-modal"),closePwModal=()=>hideEl("change-password-modal"),showClubTabPanel=e=>{const{id:t}=e,o=document.getElementById("club-tabs").children;for(const e of o)e.classList.remove("active"),e.id===t&&e.classList.add("active");const n=document.getElementById("club-tabs-container").children;for(const e of n)e.classList.remove("show"),e.classList.add("hide"),e.id===t&&(e.classList.remove("hide"),e.classList.add("show"))};async function sendEventToIframe(e,t,o){try{let n=document.querySelector(e).contentWindow;n&&n.postMessage(JSON.stringify({event:t,data:o}),"*")}catch(e){console.log(e)}}
